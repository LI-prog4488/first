import{_ as W,e as Y,r,k as K,l as O,g as p,o as d,c as f,a as t,t as l,h as e,i as a,m as i,n as y,p as _,j as k,F as A,q as F,s as G,x as P,y as x,z as D,A as Q,B as X,C as Z,D as H,G as tt,H as st}from"./index-45cd1a9a.js";const et={class:"dashboard-container"},at={class:"page-header"},lt={class:"header-info"},nt={class:"current-time"},ot={class:"overview-cards"},it={class:"stat-content"},dt={class:"stat-info"},ct={class:"stat-value"},ut={class:"stat-content"},rt={class:"stat-info"},vt={class:"stat-value"},_t={class:"stat-content"},ft={class:"stat-info"},gt={class:"stat-value"},mt={class:"stat-content"},ht={class:"stat-info"},pt={class:"stat-value"},yt={class:"quick-access"},kt={class:"quick-icon monitor-icon"},bt={class:"quick-icon alert-icon"},wt={class:"quick-icon device-icon"},Ct={class:"quick-icon analysis-icon"},qt={class:"charts-container"},St={class:"chart-content"},xt={class:"energy-summary"},Dt={class:"energy-label"},$t={class:"energy-value"},Tt={class:"card-header"},Mt={class:"chart-content"},Vt={class:"trend-summary"},Bt={class:"trend-title"},Et={class:"trend-value"},zt={class:"trend-change"},It={class:"bottom-cards"},Nt={class:"device-status"},At={class:"status-item"},Ft={class:"status-value online"},Gt={class:"status-item"},Ht={class:"status-value offline"},Ut={class:"status-item"},jt={class:"status-value fault"},Jt={class:"status-item"},Lt={class:"status-value"},Rt={class:"card-header"},Wt={class:"alert-list"},Yt={key:0},Kt={class:"alert-info"},Ot={class:"alert-title"},Pt={class:"alert-time"},Qt={key:1,class:"no-alerts"},Xt={__name:"Dashboard",setup(Zt){const U=Y(),B=r("");let $=null;const g=r({electricity:"1,258.6 kWh",water:"96.2 m³",gas:"45.8 m³",heat:"18.3 GJ"}),b=r(8.2),w=r(-3.5),C=r(5.1),q=r(2.3),S=r({online:126,offline:8,fault:3,total:137});r({totalEnergy:"1,418.9",totalCost:"¥ 7,582.3"});const E=r([{id:1,title:"3号楼配电房电流异常",time:Date.now()-1e3*60*30,level:"high",status:"pending"},{id:2,title:"地下停车场用水异常",time:Date.now()-1e3*60*60*2,level:"medium",status:"processing"},{id:3,title:"办公楼新风系统滤网需要更换",time:Date.now()-1e3*60*60*24,level:"low",status:"completed"}]),j=r(2),J=r(["electricity","water","gas","heat"]),v=r("electricity"),z=()=>{const u=new Date;B.value=I(u.getTime())},I=u=>{const s=new Date(u),n=s.getFullYear(),T=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),M=String(s.getMinutes()).padStart(2,"0"),V=String(s.getSeconds()).padStart(2,"0");return`${n}-${T}-${c} ${h}:${M}:${V}`},N=u=>({electricity:"用电量",water:"用水量",gas:"用气量",heat:"用热量"})[u]||u,L=u=>({pending:"待处理",processing:"处理中",completed:"已完成"})[u]||u,m=u=>{try{U.push(u)}catch(s){console.error("导航失败:",s)}},R=()=>{console.log("切换到能源类型:",v.value)};return K(()=>{z(),$=setInterval(z,1e3)}),O(()=>{$&&clearInterval($)}),(u,s)=>{const n=p("el-icon"),T=p("el-badge"),c=p("el-card"),h=p("el-option"),M=p("el-select"),V=p("el-button");return d(),f("div",et,[t("div",at,[s[7]||(s[7]=t("h1",null,"智慧园区管理平台",-1)),t("div",lt,[t("span",nt,l(B.value),1),e(T,{value:j.value,class:"alert-badge",onClick:s[0]||(s[0]=o=>m("/alert-center"))},{default:a(()=>[e(n,null,{default:a(()=>[e(i(G))]),_:1})]),_:1},8,["value"])])]),t("div",ot,[e(c,{class:"stat-card electricity-card"},{default:a(()=>[t("div",it,[e(n,{class:"stat-icon"},{default:a(()=>[e(i(P))]),_:1}),t("div",dt,[t("div",ct,l(g.value.electricity),1),s[8]||(s[8]=t("div",{class:"stat-label"},"实时用电量",-1)),t("div",{class:y(["stat-change",b.value>0?"positive":"negative"])},[b.value>0?(d(),_(n,{key:0},{default:a(()=>[e(i(x))]),_:1})):(d(),_(n,{key:1},{default:a(()=>[e(i(D))]),_:1})),k(" "+l(Math.abs(b.value))+"% ",1)],2)])])]),_:1}),e(c,{class:"stat-card water-card"},{default:a(()=>[t("div",ut,[e(n,{class:"stat-icon"},{default:a(()=>[e(i(Q))]),_:1}),t("div",rt,[t("div",vt,l(g.value.water),1),s[9]||(s[9]=t("div",{class:"stat-label"},"实时用水量",-1)),t("div",{class:y(["stat-change",w.value>0?"positive":"negative"])},[w.value>0?(d(),_(n,{key:0},{default:a(()=>[e(i(x))]),_:1})):(d(),_(n,{key:1},{default:a(()=>[e(i(D))]),_:1})),k(" "+l(Math.abs(w.value))+"% ",1)],2)])])]),_:1}),e(c,{class:"stat-card gas-card"},{default:a(()=>[t("div",_t,[e(n,{class:"stat-icon"},{default:a(()=>[e(i(G))]),_:1}),t("div",ft,[t("div",gt,l(g.value.gas),1),s[10]||(s[10]=t("div",{class:"stat-label"},"实时用气量",-1)),t("div",{class:y(["stat-change",C.value>0?"positive":"negative"])},[C.value>0?(d(),_(n,{key:0},{default:a(()=>[e(i(x))]),_:1})):(d(),_(n,{key:1},{default:a(()=>[e(i(D))]),_:1})),k(" "+l(Math.abs(C.value))+"% ",1)],2)])])]),_:1}),e(c,{class:"stat-card heat-card"},{default:a(()=>[t("div",mt,[e(n,{class:"stat-icon"},{default:a(()=>[e(i(X))]),_:1}),t("div",ht,[t("div",pt,l(g.value.heat),1),s[11]||(s[11]=t("div",{class:"stat-label"},"实时用热量",-1)),t("div",{class:y(["stat-change",q.value>0?"positive":"negative"])},[q.value>0?(d(),_(n,{key:0},{default:a(()=>[e(i(x))]),_:1})):(d(),_(n,{key:1},{default:a(()=>[e(i(D))]),_:1})),k(" "+l(Math.abs(q.value))+"% ",1)],2)])])]),_:1})]),t("div",yt,[e(c,{class:"quick-card",onClick:s[1]||(s[1]=o=>m("/monitoring"))},{default:a(()=>[t("div",kt,[e(n,null,{default:a(()=>[e(i(Z))]),_:1})]),s[12]||(s[12]=t("div",{class:"quick-text"},"实时监控",-1))]),_:1}),e(c,{class:"quick-card",onClick:s[2]||(s[2]=o=>m("/alert-center"))},{default:a(()=>[t("div",bt,[e(n,null,{default:a(()=>[e(i(H))]),_:1})]),s[13]||(s[13]=t("div",{class:"quick-text"},"异常预警",-1))]),_:1}),e(c,{class:"quick-card",onClick:s[3]||(s[3]=o=>m("/device-management"))},{default:a(()=>[t("div",wt,[e(n,null,{default:a(()=>[e(i(tt))]),_:1})]),s[14]||(s[14]=t("div",{class:"quick-text"},"设备管理",-1))]),_:1}),e(c,{class:"quick-card",onClick:s[4]||(s[4]=o=>m("/energy-analysis"))},{default:a(()=>[t("div",Ct,[e(n,null,{default:a(()=>[e(i(st))]),_:1})]),s[15]||(s[15]=t("div",{class:"quick-text"},"能耗分析",-1))]),_:1})]),t("div",qt,[e(c,{class:"chart-card"},{default:a(()=>[s[16]||(s[16]=t("div",{class:"card-header"},[t("span",null,"能耗总览")],-1)),t("div",St,[t("div",xt,[(d(!0),f(A,null,F(J.value,o=>(d(),f("div",{class:"energy-item",key:o},[t("div",Dt,l(N(o)),1),t("div",$t,l(g.value[o]),1)]))),128))])])]),_:1}),e(c,{class:"chart-card"},{default:a(()=>[t("div",Tt,[s[17]||(s[17]=t("span",null,"能耗趋势",-1)),e(M,{modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=o=>v.value=o),size:"small",onChange:R},{default:a(()=>[e(h,{label:"用电量",value:"electricity"}),e(h,{label:"用水量",value:"water"}),e(h,{label:"用气量",value:"gas"}),e(h,{label:"用热量",value:"heat"})]),_:1},8,["modelValue"])]),t("div",Mt,[t("div",Vt,[t("div",Bt,l(N(v.value))+"趋势",1),t("div",Et,"当前: "+l(g.value[v.value]),1),t("div",zt," 变化率: "+l(v.value==="electricity"?b.value:v.value==="water"?w.value:v.value==="gas"?C.value:q.value)+"% ",1)])])]),_:1})]),t("div",It,[e(c,{class:"info-card"},{header:a(()=>[...s[18]||(s[18]=[t("div",{class:"card-header"},[t("span",null,"设备状态")],-1)])]),default:a(()=>[t("div",Nt,[t("div",At,[s[19]||(s[19]=t("div",{class:"status-label"},"在线设备",-1)),t("div",Ft,l(S.value.online),1)]),t("div",Gt,[s[20]||(s[20]=t("div",{class:"status-label"},"离线设备",-1)),t("div",Ht,l(S.value.offline),1)]),t("div",Ut,[s[21]||(s[21]=t("div",{class:"status-label"},"故障设备",-1)),t("div",jt,l(S.value.fault),1)]),t("div",Jt,[s[22]||(s[22]=t("div",{class:"status-label"},"设备总数",-1)),t("div",Lt,l(S.value.total),1)])])]),_:1}),e(c,{class:"info-card"},{header:a(()=>[t("div",Rt,[s[24]||(s[24]=t("span",null,"最新预警",-1)),e(V,{type:"text",size:"small",onClick:s[6]||(s[6]=o=>m("/alert-center"))},{default:a(()=>[...s[23]||(s[23]=[k("查看全部",-1)])]),_:1})])]),default:a(()=>[t("div",Wt,[E.value.length>0?(d(),f("div",Yt,[(d(!0),f(A,null,F(E.value,o=>(d(),f("div",{key:o.id,class:"alert-item"},[t("div",{class:y(["alert-icon",o.level])},[e(n,null,{default:a(()=>[e(i(H))]),_:1})],2),t("div",Kt,[t("div",Ot,l(o.title),1),t("div",Pt,l(I(o.time)),1)]),t("div",{class:y(["alert-status",o.status])},l(L(o.status)),3)]))),128))])):(d(),f("div",Qt,"暂无预警信息"))])]),_:1})])])}}},ss=W(Xt,[["__scopeId","data-v-031a6069"]]);export{ss as default};
